<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <style>
    body { font-family: Arial; text-align: center; padding: 50px; }
    input, button { margin: 10px; padding: 10px; width: 80%; max-width: 300px; }
  </style>
</head>
<body>
  <h2>Employee Login</h2>
  <input type="text" id="code" placeholder="Employee Code" /><br>
  <input type="password" id="pass" placeholder="Password" /><br>
  <button onclick="login()">Login</button>

  <script>
    async function login() {
      const code = document.getElementById("code").value;
      const pass = document.getElementById("pass").value;
      const form = new FormData();
      form.append("type", "login");
      form.append("code", code);
      form.append("pass", pass);

      const res = await fetch("<?= ScriptApp.getService().getUrl() ?>", {
        method: "POST",
        body: form,
      });

      const text = await res.text();
      if (text === "success") {
        localStorage.setItem("empCode", code);
        window.location.href = "?page=menu";
      } else {
        alert("Invalid credentials");
      }
    }
  </script>
</body>
</html>
